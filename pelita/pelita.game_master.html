<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pelita.game_master &mdash; Pelita v0.2.0-249-gb23822a documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v0.2.0-249-gb23822a',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Pelita v0.2.0-249-gb23822a documentation" href="../index.html" />
    <link rel="up" title="API reference" href="../api.html" />
    <link rel="next" title="pelita.graph" href="pelita.graph.html" />
    <link rel="prev" title="pelita.datamodel" href="pelita.datamodel.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pelita.game_master">
<span id="pelita-game-master"></span><h1>pelita.game_master<a class="headerlink" href="#module-pelita.game_master" title="Permalink to this headline">¶</a></h1>
<p>The controller</p>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pelita.game_master.AStarNoiser" title="pelita.game_master.AStarNoiser"><code class="xref py py-obj docutils literal"><span class="pre">AStarNoiser</span></code></a>(universe,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Noiser in maze space.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pelita.game_master.GameMaster" title="pelita.game_master.GameMaster"><code class="xref py py-obj docutils literal"><span class="pre">GameMaster</span></code></a>(layout,&nbsp;teams,&nbsp;number_bots,&nbsp;game_time)</td>
<td>Controller of player moves and universe updates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pelita.game_master.ManhattanNoiser" title="pelita.game_master.ManhattanNoiser"><code class="xref py py-obj docutils literal"><span class="pre">ManhattanNoiser</span></code></a>(universe[,&nbsp;noise_radius,&nbsp;...])</td>
<td>Noiser in Manhattan space.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pelita.game_master.UniverseNoiser" title="pelita.game_master.UniverseNoiser"><code class="xref py py-obj docutils literal"><span class="pre">UniverseNoiser</span></code></a>(universe[,&nbsp;noise_radius,&nbsp;...])</td>
<td>Abstract BaseClass to make bot positions noisy.</td>
</tr>
</tbody>
</table>
<p class="rubric">Exceptions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">GameFinished</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">PlayerDisconnected</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">PlayerTimeout</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pelita.game_master.AStarNoiser">
<em class="property">class </em><code class="descclassname">pelita.game_master.</code><code class="descname">AStarNoiser</code><span class="sig-paren">(</span><em>universe</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#AStarNoiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.AStarNoiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pelita.game_master.UniverseNoiser" title="pelita.game_master.UniverseNoiser"><code class="xref py py-class docutils literal"><span class="pre">pelita.game_master.UniverseNoiser</span></code></a></p>
<p>Noiser in maze space.</p>
<p>It uses A* and adjacency maps to measure distances in maze space.</p>
</dd></dl>

<dl class="class">
<dt id="pelita.game_master.GameMaster">
<em class="property">class </em><code class="descclassname">pelita.game_master.</code><code class="descname">GameMaster</code><span class="sig-paren">(</span><em>layout</em>, <em>teams</em>, <em>number_bots</em>, <em>game_time</em>, <em>noise=True</em>, <em>noiser=None</em>, <em>initial_delay=0.0</em>, <em>max_timeouts=5</em>, <em>timeout_length=3</em>, <em>layout_name=None</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Controller of player moves and universe updates.</p>
<p>This object coordinates the moves of the player implementations with the
updating of the universe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>layout</strong> (<em>string</em>) &#8211; initial layout as string</li>
<li><strong>teams</strong> (<em>list of teams</em>) &#8211; the teams to play the game</li>
<li><strong>number_bots</strong> (<em>int</em>) &#8211; the total number of bots</li>
<li><strong>game_time</strong> (<em>int</em>) &#8211; the total permitted number of rounds</li>
<li><strong>noise</strong> (<em>boolean</em>) &#8211; should enemy positions be noisy</li>
<li><strong>seed</strong> (<em>int, optional</em>) &#8211; seed which initialises the internal random number generator</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>universe</strong> (<a class="reference internal" href="pelita.datamodel.html#pelita.datamodel.CTFUniverse" title="pelita.datamodel.CTFUniverse"><em>CTFUniverse</em></a>) &#8211; the game state</li>
<li><strong>noiser</strong> (<em>UniverseNoiser or None</em>) &#8211; object to add noise to enemy positions</li>
<li><strong>player_teams</strong> (<em>list</em>) &#8211; the participating player teams</li>
<li><strong>viewers</strong> (<em>list of subclasses of AbstractViewer</em>) &#8211; the viewers that are observing this game</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pelita.game_master.GameMaster.play">
<code class="descname">play</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.play"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Play game until finished.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.GameMaster.play_round">
<code class="descname">play_round</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.play_round"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.play_round" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes the current round.</p>
<p>A round is defined as all bots moving once.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.GameMaster.play_step">
<code class="descname">play_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.play_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.play_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Plays a single step of a bot.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.GameMaster.prepare_next_round">
<code class="descname">prepare_next_round</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.prepare_next_round"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.prepare_next_round" title="Permalink to this definition">¶</a></dt>
<dd><p>Increases <cite>game_state[&#8220;round_index&#8221;]</cite>, if possible
and resets <cite>game_state[&#8220;bot_id&#8221;]</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.GameMaster.register_viewer">
<code class="descname">register_viewer</code><span class="sig-paren">(</span><em>viewer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.register_viewer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.register_viewer" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a viewer to display the game state as it progresses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>viewer</strong> (<em>subclass of AbstractViewer</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.GameMaster.set_initial">
<code class="descname">set_initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.set_initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.set_initial" title="Permalink to this definition">¶</a></dt>
<dd><p>This method needs to be called before a game is started.
It notifies the PlayerTeams and the Viewers of the initial
universes and tells the PlayerTeams what team_id they have.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.GameMaster.update_viewers">
<code class="descname">update_viewers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#GameMaster.update_viewers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.GameMaster.update_viewers" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the &#8216;observe&#8217; method on all registered viewers.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pelita.game_master.ManhattanNoiser">
<em class="property">class </em><code class="descclassname">pelita.game_master.</code><code class="descname">ManhattanNoiser</code><span class="sig-paren">(</span><em>universe</em>, <em>noise_radius=5</em>, <em>sight_distance=5</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#ManhattanNoiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.ManhattanNoiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pelita.game_master.UniverseNoiser" title="pelita.game_master.UniverseNoiser"><code class="xref py py-class docutils literal"><span class="pre">pelita.game_master.UniverseNoiser</span></code></a></p>
<p>Noiser in Manhattan space.</p>
<p>It uses Manhattan distance. This noiser is much faster than AStarNoiser,
but Manhattan distance is less relevant to the game. For example, a bot
distant 1 in Manhattan space could still be much further in maze distance.</p>
</dd></dl>

<dl class="class">
<dt id="pelita.game_master.UniverseNoiser">
<em class="property">class </em><code class="descclassname">pelita.game_master.</code><code class="descname">UniverseNoiser</code><span class="sig-paren">(</span><em>universe</em>, <em>noise_radius=5</em>, <em>sight_distance=5</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#UniverseNoiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.UniverseNoiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract BaseClass to make bot positions noisy.</p>
<p>Supports uniform noise in maze space. Can be extended to support other types
of noise. Noise will only be applied if the enemy bot is with a certain
threshold (<cite>sight_distance</cite>).</p>
<p>Derived classes will need to implement distance and the altered_pos methods</p>
<dl class="method">
<dt>
<code class="descname">distance(bot, other_bot):</code></dt>
<dd><p>return distance between current bot and bot to be noised. Distance
is measured in the space relevant to the particular algorithm implemented
in the subclass, e.g. maze distance, manhattan distance, euclidean distance...</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">altered_pos(bot_pos):</code></dt>
<dd><p>return the noised new position of an enemy bot.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>universe</strong> (<a class="reference internal" href="pelita.datamodel.html#pelita.datamodel.CTFUniverse" title="pelita.datamodel.CTFUniverse"><em>CTFUniverse</em></a>) &#8211; the universe which will later be used</li>
<li><strong>noise_radius</strong> (<em>int, optional, default: 5</em>) &#8211; the radius for the uniform noise</li>
<li><strong>sight_distance</strong> (<em>int, optional, default: 5</em>) &#8211; the distance at which noise is no longer applied.</li>
<li><strong>seed</strong> (<em>int, optional</em>) &#8211; seed which initialises the internal random number generator</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pelita.game_master.UniverseNoiser.altered_pos">
<code class="descname">altered_pos</code><span class="sig-paren">(</span><em>bot_pos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#UniverseNoiser.altered_pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.UniverseNoiser.altered_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to return a new position for a bot.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.UniverseNoiser.distance">
<code class="descname">distance</code><span class="sig-paren">(</span><em>bot</em>, <em>other_bot</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#UniverseNoiser.distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.UniverseNoiser.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to return the noiser-relevant distance between two bots.</p>
</dd></dl>

<dl class="method">
<dt id="pelita.game_master.UniverseNoiser.uniform_noise">
<code class="descname">uniform_noise</code><span class="sig-paren">(</span><em>universe</em>, <em>bot_index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pelita/game_master.html#UniverseNoiser.uniform_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pelita.game_master.UniverseNoiser.uniform_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply uniform noise to the enemies of a Bot.</p>
<p>Given a <cite>bot_index</cite> the method looks up the enemies of this bot. It then
adds uniform noise in maze space to the enemy positions. If a position
is noisy or not is indicated by the <cite>noisy</cite> attribute in the Bot class.</p>
<p>The method will modify the reference, therefore it is important to use a
copy of the universe as an argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>universe</strong> (<a class="reference internal" href="pelita.datamodel.html#pelita.datamodel.CTFUniverse" title="pelita.datamodel.CTFUniverse"><em>CTFUniverse</em></a>) &#8211; the universe to add noise to</li>
<li><strong>bot_index</strong> (<em>int</em>) &#8211; the bot whose enemies should be noisy</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>noisy_universe</strong> &#8211;
universe with noisy enemy positions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pelita.datamodel.html#pelita.datamodel.CTFUniverse" title="pelita.datamodel.CTFUniverse">CTFUniverse</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Pelita</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../info.html">Project Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_player.html">Writing a Player</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_player.html">Running Players</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-api.html">User API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pelita.__layouts.html">pelita.__layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.__version_from_git.html">pelita.__version_from_git</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.containers.html">pelita.containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.datamodel.html">pelita.datamodel</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">pelita.game_master</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.graph.html">pelita.graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.layout.html">pelita.layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.player.html">pelita.player</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.simplesetup.html">pelita.simplesetup</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.ui.html">pelita.ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.utils.html">pelita.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="pelita.viewer.html">pelita.viewer</a></li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011–2015, Valentin Haenel, Rike-Benjamin Schuppner et. al..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/pelita/pelita.game_master.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>